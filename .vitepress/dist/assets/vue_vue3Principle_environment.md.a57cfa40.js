import{_ as s,o as a,c as n,U as e}from"./chunks/framework.9adb0f96.js";const l="/blog/assets/image-20240621000217834.201a7109.png",t="/blog/assets/image-20240621000424713.35080004.png",h=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"vue/vue3Principle/environment.md","filePath":"vue/vue3Principle/environment.md","lastUpdated":1718900469000}'),p={name:"vue/vue3Principle/environment.md"},o=e('<h2 id="目录结构" tabindex="-1">目录结构 <a class="header-anchor" href="#目录结构" aria-label="Permalink to &quot;目录结构&quot;">​</a></h2><p><img src="'+l+`" alt="image-20240621000217834"></p><h2 id="项目初始化" tabindex="-1">项目初始化 <a class="header-anchor" href="#项目初始化" aria-label="Permalink to &quot;项目初始化&quot;">​</a></h2><ol><li>安装 yarn</li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">npm i yarn -g</span></span></code></pre></div><ol start="2"><li>初始化项目</li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">yarn init -y</span></span></code></pre></div><ol start="3"><li>node 版本</li></ol><p><strong>20.14.0</strong></p><h2 id="安装-jest" tabindex="-1">安装 jest <a class="header-anchor" href="#安装-jest" aria-label="Permalink to &quot;安装 jest&quot;">​</a></h2><ol><li>安装 ts</li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">yarn add typescript --dev</span></span></code></pre></div><ol start="2"><li>初始化 ts config</li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">npx tsc -- init</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">// tsconfig.js </span></span>
<span class="line"><span style="color:#A6ACCD;">&quot;types&quot;: [&quot;jest&quot;] // 用于指定 TypeScript 包含哪些类型声明文件（.d.ts文件）</span></span></code></pre></div><ol start="3"><li>安装 jest 及其 ts 类型文件</li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">yarn add jest @types/jest --dev</span></span></code></pre></div><ol start="4"><li>配置 jest 使用 esm 模块</li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">// 配置支持 jest</span></span>
<span class="line"><span style="color:#A6ACCD;">yarn add --dev babel-jest @babel/core @babel/preset-env</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">// 配置支持 typescript</span></span>
<span class="line"><span style="color:#A6ACCD;">yarn add --dev @babel/preset-typescript</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">// babel.config.js</span></span>
<span class="line"><span style="color:#A6ACCD;">module.exports = {</span></span>
<span class="line"><span style="color:#A6ACCD;">    presets: [</span></span>
<span class="line"><span style="color:#A6ACCD;">        [</span></span>
<span class="line"><span style="color:#A6ACCD;">            &#39;@babel/preset-env&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">            {</span></span>
<span class="line"><span style="color:#A6ACCD;">                targets: { node: &#39;current&#39; }</span></span>
<span class="line"><span style="color:#A6ACCD;">            }</span></span>
<span class="line"><span style="color:#A6ACCD;">        ],</span></span>
<span class="line"><span style="color:#A6ACCD;">        &#39;@babel/preset-typescript&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><h2 id="测试" tabindex="-1">测试 <a class="header-anchor" href="#测试" aria-label="Permalink to &quot;测试&quot;">​</a></h2><ol><li>tests/index.ts</li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">export function add(a:any, b:any) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    return a + b</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><ol start="2"><li>index.spec.ts</li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">import { add } from &quot;./index&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">it(&#39;init&#39;, () =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">    expect(add(1, 2)).toBe(3)</span></span>
<span class="line"><span style="color:#A6ACCD;">})</span></span></code></pre></div><ol start="3"><li>package.json</li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&quot;scripts&quot;: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;test&quot;: &quot;jest&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span></code></pre></div><ol start="4"><li>运行</li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">npm run test</span></span></code></pre></div><p><img src="`+t+'" alt="image-20240621000424713"></p>',28),i=[o];function c(r,d,C,A,y,u){return a(),n("div",null,i)}const m=s(p,[["render",c]]);export{h as __pageData,m as default};
